<!--
AUTO-GENERATED by assistant
timestamp: 2026-01-31T01:18:00Z
project_path: /home/ubuntu/work/clawd-projects/personal-dashboard
git_root: /home/ubuntu/work/clawd-projects
-->

# CHANGE REQUEST — Personal Dashboard (React, MVP)

## Short task
Build a personal dashboard (MVP) implemented in React (Vite or CRA) with a Kanban‑first UX that keeps the user in flow, surfaces daily prioritized micro‑tasks derived from existing projects, and suggests small revenue‑driving app ideas. Include a Daily Recipes widget (3 recipes/day) that excludes fish, onion, and garlic ingredients. Persist user state locally and provide a lightweight admin/debug panel.

## Goals (high level)
- Give the user a lightweight, immediate workspace (Kanban) to track daily focus and progress.
- Surface 3 short revenue ideas each week/day based on existing projects and the user's interests (golf, trading, automation, AI) — short actionable suggestions.
- Provide daily meal suggestions (3 recipes) obeying dietary constraints (no fish, no onion/garlic ingredients) with full recipes and basic nutrition notes.
- Keep everything local‑first (localStorage) so the app is fast and private; no backend required for MVP.
- Code quality: use React functional components + hooks, modular code, well commented, with a small test script that verifies page loads without console errors.

## Scope (MUST)
- Implement a React single‑page application (Vite preferred) with minimal dependencies.
- Core components/files to produce:
  - package.json (with minimal scripts: start, build, test)
  - src/main.jsx (app bootstrap)
  - src/App.jsx (layout + routing if needed)
  - src/components/Kanban/* (Board, Column, Card, AddCard)
  - src/components/AIJobs/* (list, add placeholder, mark done)
  - src/components/Projects/* (list existing projects detected under /home/ubuntu/work/clawd-projects)
  - src/components/Recipes/* (widget showing 3 daily recipes + filter)
  - src/components/Admin/* (gateway status fetch, logs link, open CHANGE_REQUEST.md)
  - public/index.html, src/styles.css
  - scripts/test-headless.sh (uses puppeteer or headless chrome if available; fallback simple file checks)
  - README.md with run/test instructions

- Persist state using localStorage under a single key: personal-dashboard:v1
- Projects panel: GET list of folders under /home/ubuntu/work/clawd-projects (this can be implemented as a fetch to /api/projects in the opencode environment; for frontend‑only fallback, show a placeholder and a note explaining how to enable /api/projects proxy).

## Scope (MAY)
- Minimal build step (Vite) is acceptable. Avoid heavy frameworks beyond React. Do not include server components in MVP.
- Add an export/import (JSON) button for local state as convenience.

## Out of scope (DO NOT)
- Do not create any server‑side components beyond optional admin endpoints that proxy to existing Clawdbot gateway.
- Do not store secrets or API keys in the repository or commit history.
- Do not change files outside /home/ubuntu/work/clawd-projects/personal-dashboard.
- Do not merge PRs or push to main without explicit human review.

## Hard rules (ALWAYS)
- The assistant (orchestrator) will NOT overwrite this CHANGE_REQUEST.md. Triggering systems should use this file as authoritative.
- Code generation must happen via OpenCode (if used) or via the assistant running explicitly authorized code generation calls. If OpenCode is used, run it with model=openai/gpt-5-mini (or a higher model if explicitly requested) and variant=low for first pass; upgrade for a polish pass only.
- If the code generator (model) asks for clarification during generation, the orchestrator must surface the exact question in this chat and await human confirmation before injecting any answer. (If automated replies are allowed later, it must be explicitly enabled by the human.)
- All git operations invoked by automation must be executed from the git root: /home/ubuntu/work/clawd-projects.
- PTY must be enabled when running interactive code agents (run inside tmux session `clawd` or SSM interactive session) so the model can prompt and accept input.

## Build & Test (MUST)
### Local dev
1. Install & start:
   - npm install
   - npm run dev  # starts Vite on default port (3000 or 5173)
   - Open http://127.0.0.1:5173/

2. Basic manual tests:
   - Create a Kanban card in To Do, drag to Doing, then to Done; reload page and confirm state persisted.
   - Add an AI Job placeholder and mark it done; verify persisted.
   - Open Admin panel and click "Gateway status" — it should attempt to GET http://127.0.0.1:18789/.status (if gateway present) and show result or friendly error.
   - Recipes widget shows 3 recipes and ingredient lists; none of the ingredients should include fish, onion, or garlic.

3. Automated checks (test-headless.sh):
   - Validate files exist: index.html, main.js, styles.css
   - Optionally run a headless Chrome script (puppeteer) to: load page and assert no console.error messages.

### Acceptance criteria
- Application boots with `npm run dev` and index page loads without uncaught JS errors.
- Kanban CRUD + drag/drop works and persists.
- Recipes list shows 3 valid recipes consistent with dietary constraints.
- README contains clear steps to run and test locally.

## Developer notes (OpenCode / assistant guidance)
- Use React + Vite for quick scaffolding. Keep dependencies minimal (react, react-dom, vite, optionally lightweight dnd like `@hello-pangea/dnd` or implement native HTML5 drag/drop).
- File layout suggestion:
  /public/index.html
  /src/main.jsx
  /src/App.jsx
  /src/components/Kanban/{Board.jsx,Column.jsx,Card.jsx}
  /src/components/AIJobs/{JobsList.jsx}
  /src/components/Projects/{ProjectsList.jsx}
  /src/components/Recipes/{RecipesWidget.jsx}
  /src/components/Admin/{AdminPanel.jsx}
  /src/styles.css
  package.json
  README.md
  test-headless.sh

- For Projects detection: create a helper endpoint `/api/projects` that lists folders under /home/ubuntu/work/clawd-projects (this endpoint is optional and only to be used if a backend is available). If no backend is available, show a "Scan projects" UI that instructs the user how to enable the endpoint.

- Recipes: include three example recipes (JSON) in `src/data/recipes.json` and load them into state on first run; implement a filter to exclude any recipe containing any of the forbidden ingredients (fish, onion, garlic). Spice mixes containing onion/garlic in trace amounts are permitted only if not explicitly listed as whole ingredients.

## How to trigger work (for human operator)
1. Confirm CHANGE_REQUEST.md is final.
2. Run locally or trigger automation with:
   - Via OpenCode (recommended): `opencode run "bygg CHANGE_REQUEST.md" --model=openai/gpt-5-mini --variant=low` inside the git root /home/ubuntu/work/clawd-projects/personal-dashboard or via tmux session `clawd`.
   - Or run assistant/direct script: `node /home/ubuntu/clawd/skills/ai-orchestrate/trigger.js --run "Bygg: personal-dashboard: ..."` (the assistant will not overwrite CHANGE_REQUEST.md).

3. Review generated artifacts and open a PR for review. The assistant will push a feature branch (if auth available) or provide a bundle/patch.

## Recipes (sample — 3 items)
1. Tomato & Herb Pasta
   - Ingredients: pasta, tomato, olive oil, basil, salt, pepper
   - Steps: cook pasta, sauté diced tomato in olive oil (no onion/garlic), toss with pasta and fresh basil.
   - Note: vegetarian, no fish/onion/garlic

2. Chickpea & Cucumber Salad
   - Ingredients: canned chickpeas, cucumber, cherry tomatoes, olive oil, lemon juice, parsley
   - Steps: rinse chickpeas, chop veg, mix and dress with lemon & olive oil.

3. Cheese & Herb Omelette
   - Ingredients: eggs, milk, butter, cheese, mixed fresh herbs
   - Steps: beat eggs with milk, cook gently in butter, add cheese/herbs and fold.

MD